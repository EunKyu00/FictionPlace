<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webtoon List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" />
    <link rel="stylesheet" href="/CSS/Webtoon_list.css" />
    <link rel="stylesheet" href="/Webtoon_list.css" />
    <link rel="stylesheet" th:href="@{/CSS/Navber.css}">
</head>
<body>
<div th:replace="~{navbar :: navbar}"></div>
<div class="webtoon-list-page">
    <!-- 슬라이더 섹션 -->
    <div class="slider-section">
        <div class="slick-slider">
            <div>
                <img src="/images/slick2.png" alt="웹툰 이미지 1" />
            </div>
            <div>
                <img src="/images/slick3.jpg" alt="웹툰 이미지 2" />
            </div>
            <div>
                <img src="/images/slick1.png" alt="웹툰 이미지 3" />
            </div>
        </div>
    </div>

    <!-- Featured Webtoons -->
    <div class="featured-section">
        <h2>Featured Webtoons</h2>
        <div class="button-group">
            <button class="active-button">연재</button>
            <button class="active-button">완결</button>
        </div>
    </div>

    <!-- 장르 선택 바 -->
    <div class="genre-bar">
        <div class="genre-button">성인</div>
        <div class="genre-button">드라마</div>
        <div class="genre-button">판타지</div>
        <div class="genre-button">액션</div>
        <div class="genre-button">스릴러</div>
        <div class="genre-button">개그</div>
    </div>

    <!-- 웹툰 카드 컨테이너 -->
    <div class="card-container">
        <div th:if="${webtoons != null}" th:each="webtoon : ${webtoons}">
            <div class="webtoon-card">
                <a th:href="@{/webtoon/{id}(id=${webtoon.id})}" style="text-decoration: none;">
                    <img th:src="${webtoon.thumbnailImg}" alt="웹툰 썸네일" class="webtoon-thumbnail" />
                    <div class="webtoon-title" th:text="${webtoon.title}"></div>
                </a>
            </div>
        </div>
        <div th:if="${webtoons == null}">
            <p>웹툰 데이터를 불러올 수 없습니다.</p>
        </div>
    </div>
</div>

<!-- Slick 슬라이더 스크립트 -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<script>
    document.getElementById('signupToggle').addEventListener('click', function (event) {
        event.preventDefault(); // 링크 이동 방지
        const dropdown = document.getElementById('signupDropdown');
        if (dropdown.style.display === 'none' || dropdown.style.display === '') {
            dropdown.style.display = 'block';
        } else {
            dropdown.style.display = 'none';
        }
    });

    // 페이지의 다른 곳을 클릭하면 드롭다운 닫기
    window.addEventListener('click', function (event) {
        const dropdown = document.getElementById('signupDropdown');
        const toggle = document.getElementById('signupToggle');
        if (event.target !== dropdown && event.target !== toggle && !dropdown.contains(event.target)) {
            dropdown.style.display = 'none';
        }
    });

</script>
<script>
    $(document).ready(function () {
      $(".slick-slider").slick({
        dots: true,
        infinite: true,
        speed: 500,
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 3000,
      });
    });
</script>
<script src="/JS/dropdown.js"></script>
</body>
</html>