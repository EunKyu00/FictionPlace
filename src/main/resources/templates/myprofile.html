<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”„ë¡œí•„ í˜ì´ì§€</title>
    <link rel="stylesheet" href="/CSS/myprofile.css">
</head>
<body>
<div th:replace="~{navbar :: navbar}"></div>

<!-- ì‚¬ì´ë“œë°” -->
<div class="sidebar">
    <div class="sidebar-item">
        <a th:href="#" class="sidebar-link">
            <span class="sidebar-icon">ğŸ </span> í”„ë¡œí•„ í™ˆ
        </a>
    </div>
    <div class="sidebar-item">
        <a href="/profile/manage" class="sidebar-link">
            <span class="sidebar-icon">ğŸ“‹</span> ì‘í’ˆ ê´€ë¦¬
        </a>
    </div>
    <div class="sidebar-item">
        <a href="/profile/upload" class="sidebar-link">
            <span class="sidebar-icon">âœï¸</span> ì‘í’ˆ ë“±ë¡
        </a>
    </div>
    <div class="sidebar-item">
        <a href="/profile/favorites" class="sidebar-link">
            <span class="sidebar-icon">â¤ï¸</span> ê´€ì‹¬ ì‘í’ˆ
        </a>
    </div>
    <div class="sidebar-item">
        <a href="/profile/messages" class="sidebar-link">
            <span class="sidebar-icon">âœ‰ï¸</span> ìª½ì§€í•¨
        </a>
    </div>

    <div class="sidebar-item">
        <a href="/profile/edit" class="sidebar-link">
            <span class="sidebar-icon">ğŸ–Šï¸</span> ì •ë³´ ìˆ˜ì •
        </a>
    </div>
</div>

<!-- í”„ë¡œí•„ ë³¸ë¬¸ -->
<div class="profile-home">
    <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
    <div class="profile-upload-container" th:style="|background-image: url('${session.loginUser.profileImage}');|">
        <input type="file" id="file-upload" class="upload-input" accept="image/*">
    </div>

    <!-- ë‹‰ë„¤ì„ -->
    <div class="profile-nickname">ë‹‰ë„¤ì„ :</div>
    <div id="profile-nickname" th:if="${session.loginUser != null}" th:text="${session.loginUser.nickname}">ë‹‰ë„¤ì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    <div id="profile-nickname" th:if="${session.loginUser == null}">ë‹‰ë„¤ì„ì´ ì—†ìŠµë‹ˆë‹¤.</div>

    <!-- ì´ë©”ì¼ -->
    <div class="email">ì´ë©”ì¼ :</div>
    <div id="profile-email" th:if="${session.loginUser != null}" th:text="${session.loginUser.email}">ì´ë©”ì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    <div id="profile-email" th:if="${session.loginUser == null}">ì´ë©”ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>

    <!-- ìê¸°ì†Œê°œ -->
    <div class="description-card">
        <div class="description" th:if="${session.loginUser != null}" th:text="${session.loginUser.description}">ìê¸°ì†Œê°œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        <div class="description" th:if="${session.loginUser == null}">ìê¸°ì†Œê°œê°€ ì—†ìŠµë‹ˆë‹¤.</div>
    </div>
</div>

<!-- ì‘í’ˆ ëª©ë¡ -->
<div id="works-container">
    <h2>ì‘ì—…ë¬¼</h2>

</div>

<script>
    // í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.getElementById('file-upload').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                document.querySelector('.profile-upload-container').style.backgroundImage = `url(${e.target.result})`;
            };
            reader.readAsDataURL(file);
        }
    });
</script>
</body>
</html>